#Exigen.students.

##Краткая справка по выполненным задачам.

Все выполненные задачи отмечены тегами для простоты нахождения необходимых коммитов. Все задания находятся в данном репозитории (было удобно делать один проект, а не начинать все время с нового клонированного репозитория).

Репозиторий: [https://github.com/rfiit/talkie]().

Ссылки на теги: [https://github.com/rfiit/talkie/releases]().

###1. Ant (tag ant)

Сборка проекта антом. `<target name="init">` создает начальную папку для билдов.

###2. Maven (tag maven)

Сборка мавеном. Реализована зависимость от библиотеки org.apache.commons.commons-lang3 версии 3.1.

###3. Servlet (tag servlet)

Использован tomcat скаченный с сайта, без репозиториев мавена. Для подключеня `servlet-api` была использована инструкция [http://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html](). Конкретно использована команда: 

`mvn install:install-file -Dfile="$CATALINA_HOME/lib/servlet-api.jar" -DgroupId="local.tomcat" -DartifactId="servlet-api" -Dversion="3.1" -Dpackaging=jar`

В pom файле в зависимости описано `<scope>provided</scope>` , чтобы не собирал библиотеку в war файл.

Доступ к странице результата по адресу [http://127.0.0.1:8080/talkieweb/requestpage]().

Для получения ответов использован ajax (попытки сделать вариант для людей без js окончились через 15 минут, потраченных (безрезультатно) чтобы впилить форму в тег noscript так, чтобы ее не было видно, когда js работает).

После добавления пользователя в конфиги томката деплой осуществлялся командой `curl --user admin:admin http://localhost:8080/manager/text/reload?path=/talkieweb`, либо через html-панель.

###4. JSP (tag jsp)

Реализовано отображение страницы с помощью JSP+css+js. Не использованы теги, EL и `<c:forEach var="bookmarkEntry" items="${sessionScope.bookmarks}">`. Вместо последнего использованы скриптлеты.

Среди багов и возможных улучшений функциональности:

* последние вопросы сверху (необходимо изменение структуры на List или что-нибудь, что умеет обходить с хвоста или добавляет в голову);
* динамическое изменение счетчиков (решается подгрузкой по таймеру js);
* решить что либо с потокобезопасностью (не реализована никак).. 

###5. SQL (tag sql)

Реализовано хранение ответов в MySQL базе + сохранение хеша вопроса с id ответа, чтобы на одинаковые ответы "сервис" отвечал одинаково.

В корне лежит mysql-скрипт, который создает пользователя и подготавливает базу (работоспособность скрипта не проверена). С помощью него можно понять ожидаемую структуру таблиц. 

Для соответствия вопросов ответам был применен `FOREIGN KEY`. Чтобы не хранить вопросы неизвестной длины применяется md5 хеш от строки вопроса, который должен обеспечить понимание того, что вопрос задается не первый раз.

Из возможных улучшений:

* использовать авто инкремент в базе ответов;
* переписать архитектуру и вообще весь сервис;
 
###5. XML (tag xml)

Не реализован.